<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Accueil</title>
        <link rel="stylesheet" href="cssEnCours/styleAbonne.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default">
            <ul class="nav navbar-nav">
              <li><a href="#" class="navbar-text">Mediatek</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <p class="navbar-text">Ozdemir Ilker</p>
            </ul>
          </nav>
          <h1>Que voulez-vous faire ? </h1>
          <div class="container">
                <p class="titreDiv">Ajouter un document </p>
                <button type="button" class="btn btn-primary" id="ajouter" data-popup-ref="ajoutSuccess">Ajout de document</button>
           </div>
           <div class="container">
                <p class="titreDiv">Documents de la Mediatek</p>
                <table id="listeDocs">  
                    <tr><th>Type de document</th><th>Titre du document</th><th>Auteur</th><th>Etat</th></tr>
                    <tr><td>DVD</td><td>La petite sirène</td><td>Disney</td><td><button type="button" class="btn btn-success" disabled>Disponible</button></td></tr>
                    <tr><td>Livre</td><td>le petit prince</td><td>Antoine de Saint-Exupéry</td><td><button type="button" class="btn btn-danger" disabled>Emprunté</button></td></tr> 
                </table>
           </div>
		   
		   
           <div class="popup" data-popup-id="ajoutSuccess">
               <div class="popup-content">
                    <h2>Nouveau document </h2>
                    <p>Vous avez bien ajouté à la Mediatek: </p>
                    <p>Harry Potter JK Rowling</p>
                    <button type="button" class="btn cancel" data-dismiss-popup>Fermer</button>
               </div>
           </div>
           <script>
                let btnPopup = document.querySelectorAll("[data-popup-ref]");

                btnPopup.forEach( btn => {
                    btn.addEventListener('click', activePopup );

                    function activePopup(){
                        let popupId = btn.getAttribute('data-popup-ref');
                        let popup = document.querySelector(`[data-popup-id='${popupId}']`);
                        let popupContent = popup.querySelector('.popup-content');
                        let popupClose = popup.querySelectorAll('[data-dismiss-popup]');

                        popupClose.forEach(btn => {
                            btn.addEventListener("click", onPopupClose);
                        });

                        popup.classList.add('active');
                        popupContent.classList.add('active');

                        function onPopupClose(){
                            popup.classList.remove('active');
                            popupContent.classList.remove('active');
                        };
                    }
                });
           </script>		   
    </body>
</html>